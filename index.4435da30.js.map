{"mappings":"AAGA,MAAMA,EAASC,SAASC,cAAc,gBAChCC,EAAYF,SAASC,cAAc,YACnCE,EAAcH,SAASC,cAAc,cAErCG,EAAmB,ICPV,MAMbC,cACE,MAGMC,EAAe,IAAIC,gBAAgB,CACvCC,IAAK,qCACLC,EAAG,GAAGC,KAAKC,cACXC,WAAY,QACZC,YAAa,aACbC,WAAY,OACZC,SAAU,GACVC,KAAM,GAAGN,KAAKM,SAKhB,OAAOC,MAFK,4BAAeX,KAGxBY,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,IAEvBL,MAAKM,IACJd,KAAKM,MAAQ,EACNQ,EAAKC,O,CAIlBC,YACEhB,KAAKM,KAAO,C,CAGVW,YACF,OAAOjB,KAAKC,W,CAGVgB,UAAMC,GACRlB,KAAKC,YAAciB,C,CA3CrBC,cACEnB,KAAKC,YAAc,GACnBD,KAAKM,KAAO,C,GDqBhB,SAASc,EAAcL,GACrB,MAAMM,EAASN,EACZO,KAAIC,GACI,+CACOA,EAAIC,sBAAsBD,EAAIE,qHAGpBF,EAAIG,uFAGJH,EAAII,0FAGDJ,EAAIK,8FAGHL,EAAIM,+DAKjCC,KAAK,IAERtC,EAAUuC,mBAAmB,YAAaV,E,CAtC5ChC,EAAO2C,iBAAiB,UAGxB,SAAsBC,GACpBA,EAAMC,iBAENxC,EAAiBuB,MAAQgB,EAAME,cAAcC,SAASnC,YAAYoC,MAClE3C,EAAiBsB,YACjBtB,EAAiBC,cAAca,KAAKY,E,IAPtC3B,EAAYuC,iBAAiB,SAU7B,SAAgCC,GAC9BvC,EAAiBC,cAAca,KAAKY,E","sources":["src/index.js","src/searchImages-api.js"],"sourcesContent":["import './css/styles.css';\nimport ImagesApiService from './searchImages-api';\n\nconst formEl = document.querySelector('#search-form');\nconst galleryEl = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more');\n\nconst imagesApiService = new ImagesApiService();\n\nformEl.addEventListener('submit', handleSubmit);\nloadMoreBtn.addEventListener('click', handleLoadMoreBtnClick);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n\n  imagesApiService.query = event.currentTarget.elements.searchQuery.value;\n  imagesApiService.resetPage();\n  imagesApiService.fetchImages().then(renderGallery);\n}\n\nfunction handleLoadMoreBtnClick(event) {\n  imagesApiService.fetchImages().then(renderGallery);\n}\n\nfunction renderGallery(hits) {\n  const markup = hits\n    .map(hit => {\n      return `<div class=\"photo-card\">\n        <img src=\"${hit.webformatURL}\" alt=\"${hit.tags}\" loading=\"lazy\" />\n        <div class=\"info\">\n          <p class=\"info-item\">\n            <b>Likes</b><br>${hit.likes}\n          </p>\n          <p class=\"info-item\">\n            <b>Views</b><br>${hit.views}\n          </p>\n          <p class=\"info-item\">\n            <b>Comments</b><br>${hit.comments}\n          </p>\n          <p class=\"info-item\">\n            <b>Downloads</b><br>${hit.downloads}\n          </p>\n         </div>\n        </div>`;\n    })\n    .join('');\n\n  galleryEl.insertAdjacentHTML('beforeend', markup);\n}\n","export default class ImagesApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchImages() {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const API_KEY = '34753059-f7902d1f02de9c533025c1a5e';\n\n    const searchParams = new URLSearchParams({\n      key: `${API_KEY}`,\n      q: `${this.searchQuery}`,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n      per_page: 40,\n      page: `${this.page}`,\n    });\n\n    const url = `${BASE_URL}?${searchParams}`;\n\n    return fetch(url)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      })\n      .then(data => {\n        this.page += 1;\n        return data.hits;\n      });\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n"],"names":["$1f0dc3b9307be026$var$formEl","document","querySelector","$1f0dc3b9307be026$var$galleryEl","$1f0dc3b9307be026$var$loadMoreBtn","$1f0dc3b9307be026$var$imagesApiService","fetchImages","searchParams","URLSearchParams","key","q","this","searchQuery","image_type","orientation","safesearch","per_page","page","fetch","then","response","ok","Error","status","json","data","hits","resetPage","query","newQuery","constructor","$1f0dc3b9307be026$var$renderGallery","markup","map","hit","webformatURL","tags","likes","views","comments","downloads","join","insertAdjacentHTML","addEventListener","event","preventDefault","currentTarget","elements","value"],"version":3,"file":"index.4435da30.js.map"}